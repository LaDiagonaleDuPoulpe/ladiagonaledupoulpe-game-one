[gd_scene load_steps=18 format=2]

[ext_resource path="res://Sources/App/Game-Scenes/999-Dying-Player/Scripts/DyingScene.cs" type="Script" id=1]
[ext_resource path="res://Sources/App/Shared/Assets/Scenes/DyingScene/ending-synale.png" type="Texture" id=2]
[ext_resource path="res://Sources/App/Shared/Assets/Scenes/DyingScene/background.png" type="Texture" id=3]
[ext_resource path="res://Sources/App/Shared/Assets/Objects/Buttons/Btn_button03_n.png" type="Texture" id=4]
[ext_resource path="res://Sources/App/Shared/Assets/Objects/Buttons/Btn_button03_h.png" type="Texture" id=5]
[ext_resource path="res://Sources/App/Shared/Assets/Objects/Buttons/Btn_button03_p.png" type="Texture" id=6]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

uniform vec2 tiled_factor = vec2(0.01, 0.1);
uniform float aspect_ratio = 3;

uniform vec2 offset_scale = vec2(6.0, 6.0);
uniform vec2 amplitude = vec2(0.05, 0.05);

float rand(vec2 co){
    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

void fragment() {
	vec2 titled_uvs = UV + tiled_factor;
	
	titled_uvs.y += aspect_ratio;
	
	vec2 waves_uv_offset;
	waves_uv_offset.x = cos(TIME + (titled_uvs.x + titled_uvs.y) * offset_scale.x);
	waves_uv_offset.y = sin(TIME + (titled_uvs.x + titled_uvs.y) * offset_scale.y);
	
	COLOR = texture(TEXTURE, titled_uvs + waves_uv_offset * amplitude);
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/tiled_factor = Vector2( 0.01, 0.1 )
shader_param/aspect_ratio = 3.0
shader_param/offset_scale = Vector2( 6, 6 )
shader_param/amplitude = Vector2( 0.05, 0.05 )

[sub_resource type="Shader" id=3]
code = "shader_type canvas_item;

uniform float time_factor = 2;
uniform vec2 amplitude = vec2(5, 5);

void vertex() {
    VERTEX.x += sin(TIME * time_factor) * amplitude.x;
    VERTEX.y += cos(TIME * time_factor) * amplitude.y;
}"

[sub_resource type="ShaderMaterial" id=4]
shader = SubResource( 3 )
shader_param/time_factor = 2.0
shader_param/amplitude = Vector2( 5, 5 )

[sub_resource type="DynamicFontData" id=5]
font_path = "res://Sources/App/Shared/Assets/Fonts/A001ff.ttf"

[sub_resource type="DynamicFont" id=6]
size = 120
font_data = SubResource( 5 )

[sub_resource type="StyleBoxTexture" id=7]
texture = ExtResource( 5 )
region_rect = Rect2( 0, 0, 274, 91 )

[sub_resource type="StyleBoxTexture" id=8]
texture = ExtResource( 6 )
region_rect = Rect2( 0, 0, 274, 91 )

[sub_resource type="StyleBoxTexture" id=9]
texture = ExtResource( 4 )
region_rect = Rect2( 0, 0, 274, 91 )

[sub_resource type="DynamicFontData" id=10]
font_path = "res://Sources/App/Shared/Assets/Fonts/A001ff.ttf"

[sub_resource type="DynamicFont" id=11]
size = 50
font_data = SubResource( 10 )

[node name="Node2D" type="Node2D"]
script = ExtResource( 1 )

[node name="background" type="Sprite" parent="."]
material = SubResource( 2 )
position = Vector2( 1007.65, 534.509 )
scale = Vector2( 1.04855, 0.815444 )
texture = ExtResource( 3 )

[node name="ending-synale" type="Sprite" parent="."]
material = SubResource( 4 )
position = Vector2( 1374.19, 506.602 )
scale = Vector2( 0.894969, 0.856429 )
texture = ExtResource( 2 )

[node name="gameover" type="RichTextLabel" parent="."]
margin_left = 99.8252
margin_top = 124.476
margin_right = 586.825
margin_bottom = 291.476
rect_pivot_offset = Vector2( 209.708, 83.5 )
custom_fonts/normal_font = SubResource( 6 )
custom_colors/default_color = Color( 1, 1, 1, 1 )
meta_underlined = false
text = "GAME OVER"
scroll_active = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="new-game" type="Button" parent="."]
margin_left = 174.614
margin_top = 320.655
margin_right = 802.614
margin_bottom = 496.655
custom_styles/hover = SubResource( 7 )
custom_styles/pressed = SubResource( 8 )
custom_styles/normal = SubResource( 9 )
custom_fonts/font = SubResource( 11 )
text = "Nouvelle partie"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="go-to-home" type="Button" parent="."]
margin_left = 174.614
margin_top = 549.241
margin_right = 802.614
margin_bottom = 725.241
custom_styles/hover = SubResource( 7 )
custom_styles/pressed = SubResource( 8 )
custom_styles/normal = SubResource( 9 )
custom_fonts/font = SubResource( 11 )
text = "Menu principal"
__meta__ = {
"_edit_use_anchors_": false
}
[connection signal="pressed" from="new-game" to="." method="_on_newgame_pressed"]
[connection signal="pressed" from="go-to-home" to="." method="_on_gotohome_pressed"]
